ggplot(treemap_data, aes(area = total_listings, fill = avg_price,
label = neighbourhood,
subgroup = neighbourhood_group)) +
geom_treemap() +
scale_alpha_continuous(range = c(0.2, 1)) +
geom_treemap_subgroup_border() +
geom_treemap_subgroup_text(place = "centre", grow = T, alpha = 0.5, colour =
"black", fontface = "italic", min.size = 0) +
geom_treemap_text(colour = "grey67", place = "topleft", reflow = T) +
scale_fill_gradient2(low="white", mid="yellow", high="red", midpoint = 250,
limits = c(0, 550), oob = scales::squish)
ggplot(treemap_data, aes(area = total_listings, fill = avg_price,
label = neighbourhood,
subgroup = neighbourhood_group)) +
geom_treemap() +
scale_alpha_continuous(range = c(0.2, 1)) +
geom_treemap_subgroup_border() +
geom_treemap_subgroup_text(place = "centre", grow = T, alpha = 0.5, colour =
"black", fontface = "italic", min.size = 0) +
geom_treemap_text(colour = "grey67", place = "topleft", reflow = T) +
scale_fill_gradient2(low="white", mid="yellow", high="red", midpoint = 250,
limits = c(80, 550), oob = scales::squish)
ggplot(treemap_data, aes(area = total_listings, fill = avg_price,
label = neighbourhood,
subgroup = neighbourhood_group)) +
geom_treemap() +
scale_alpha_continuous(range = c(0.2, 1)) +
geom_treemap_subgroup_border() +
geom_treemap_subgroup_text(place = "centre", grow = T, alpha = 0.5, colour =
"black", fontface = "italic", min.size = 0) +
geom_treemap_text(colour = "grey67", place = "topleft", reflow = T) +
scale_fill_gradient2(low="white", mid="yellow", high="red", midpoint = 250,
limits = c(80, 400), oob = scales::squish)
ggplot(treemap_data, aes(area = total_listings, fill = avg_price,
label = neighbourhood,
subgroup = neighbourhood_group)) +
geom_treemap() +
scale_alpha_continuous(range = c(0.2, 1)) +
geom_treemap_subgroup_border() +
geom_treemap_subgroup_text(place = "centre", grow = T, alpha = 0.5, colour =
"black", fontface = "italic", min.size = 0) +
geom_treemap_text(colour = "grey67", place = "topleft", reflow = T) +
scale_fill_gradient2(low="white", mid="yellow", high="red", midpoint = 150,
limits = c(80, 400), oob = scales::squish)
ggplot(treemap_data, aes(area = total_listings, fill = avg_price,
label = neighbourhood,
subgroup = neighbourhood_group)) +
geom_treemap() +
scale_alpha_continuous(range = c(0.2, 1)) +
geom_treemap_subgroup_border() +
geom_treemap_subgroup_text(place = "centre", grow = T, alpha = 0.5, colour =
"black", fontface = "italic", min.size = 0) +
geom_treemap_text(colour = "grey67", place = "topleft", reflow = T) +
scale_fill_gradient2(low="white", mid="yellow", high="red", midpoint = 200,
limits = c(80, 400), oob = scales::squish)
ggplot(treemap_data, aes(area = total_listings, fill = avg_price,
label = neighbourhood,
subgroup = neighbourhood_group)) +
geom_treemap() +
scale_alpha_continuous(range = c(0.2, 1)) +
geom_treemap_subgroup_border() +
geom_treemap_subgroup_text(place = "centre", grow = T, alpha = 0.5, colour =
"black", fontface = "italic", min.size = 0) +
geom_treemap_text(colour = "grey67", place = "topleft", reflow = T) +
scale_fill_gradient2(low="white", mid="yellow", high="red", midpoint = 180,
limits = c(80, 400), oob = scales::squish)
ggplot(treemap_data, aes(area = total_listings, fill = avg_price,
label = neighbourhood,
subgroup = neighbourhood_group)) +
geom_treemap() +
scale_alpha_continuous(range = c(0.2, 1)) +
geom_treemap_subgroup_border() +
geom_treemap_subgroup_text(place = "centre", grow = T, alpha = 0.6, colour =
"black", fontface = "italic", min.size = 0) +
geom_treemap_text(colour = "grey67", place = "topleft", reflow = T) +
scale_fill_gradient2(low="white", mid="yellow", high="red", midpoint = 180,
limits = c(80, 400), oob = scales::squish)
ggplot(treemap_data, aes(area = total_listings, fill = avg_price,
label = neighbourhood,
subgroup = neighbourhood_group)) +
geom_treemap() +
scale_alpha_continuous(range = c(0.2, 1)) +
geom_treemap_subgroup_border() +
geom_treemap_subgroup_text(place = "centre", grow = T, alpha = 0.6, colour =
"black", fontface = "italic", min.size = 0) +
geom_treemap_text(colour = "grey73", place = "topleft", reflow = T) +
scale_fill_gradient2(low="white", mid="yellow", high="red", midpoint = 180,
limits = c(80, 400), oob = scales::squish)
ggplot(treemap_data, aes(area = total_listings, fill = avg_price,
label = neighbourhood,
subgroup = neighbourhood_group)) +
geom_treemap() +
scale_alpha_continuous(range = c(0.2, 1)) +
geom_treemap_subgroup_border() +
geom_treemap_subgroup_text(place = "centre", grow = T, alpha = 0.6, colour =
"black", fontface = "italic", min.size = 0) +
geom_treemap_text(colour = "grey73", place = "topleft", reflow = T) +
scale_fill_gradient2(low="white", mid="yellow", high="red", midpoint = 180,
limits = c(80, 380), oob = scales::squish)
ggplot(treemap_data, aes(area = total_listings, fill = avg_price,
label = neighbourhood,
subgroup = neighbourhood_group)) +
geom_treemap() +
scale_alpha_continuous(range = c(0.2, 1)) +
geom_treemap_subgroup_border() +
geom_treemap_subgroup_text(place = "centre", grow = T, alpha = 0.6, colour =
"black", fontface = "italic", min.size = 0) +
geom_treemap_text(colour = "grey73", place = "topleft", reflow = T) +
scale_fill_gradient2(low="white", mid="yellow", high="red", midpoint = 150,
limits = c(80, 400), oob = scales::squish)
ggplot(treemap_data, aes(area = total_listings, fill = avg_price,
label = neighbourhood,
subgroup = neighbourhood_group)) +
geom_treemap() +
scale_alpha_continuous(range = c(0.2, 1)) +
geom_treemap_subgroup_border() +
geom_treemap_subgroup_text(place = "centre", grow = T, alpha = 0.6, colour =
"black", fontface = "italic", min.size = 0) +
geom_treemap_text(colour = "grey73", place = "topleft", reflow = T) +
scale_fill_gradient2(low="white", mid="yellow", high="red", midpoint = 170,
limits = c(80, 400), oob = scales::squish)
ggplot(treemap_data, aes(area = total_listings, fill = avg_price,
label = neighbourhood,
subgroup = neighbourhood_group)) +
geom_treemap() +
scale_alpha_continuous(range = c(0.2, 1)) +
geom_treemap_subgroup_border() +
geom_treemap_subgroup_text(place = "centre", grow = T, alpha = 0.6, colour =
"black", fontface = "italic", min.size = 0) +
geom_treemap_text(colour = "grey73", place = "topleft", reflow = T) +
scale_fill_gradient2(low="white", mid="yellow", high="red", midpoint = 170,
limits = c(80, 400))
ggplot(treemap_data, aes(area = total_listings, fill = avg_price,
label = neighbourhood,
subgroup = neighbourhood_group)) +
geom_treemap() +
scale_alpha_continuous(range = c(0.2, 1)) +
geom_treemap_subgroup_border() +
geom_treemap_subgroup_text(place = "centre", grow = T, alpha = 0.6, colour =
"black", fontface = "italic", min.size = 0) +
geom_treemap_text(colour = "grey73", place = "topleft", reflow = T) +
scale_fill_gradient2(low="white", mid="yellow", high="red", midpoint = 170,
limits = c(80, 400), oob = scales::squish)
ggplot(treemap_data, aes(area = total_listings, fill = avg_price,
label = neighbourhood,
subgroup = neighbourhood_group)) +
geom_treemap() +
scale_alpha_continuous(range = c(0.2, 1)) +
geom_treemap_subgroup_border() +
geom_treemap_subgroup_text(place = "centre", grow = T, alpha = 0.6, colour =
"black", fontface = "italic", min.size = 0) +
geom_treemap_text(colour = "grey73", place = "topleft", reflow = T) +
scale_fill_gradient2(low="white", mid="yellow", high="red", midpoint = 170,
limits = c(80, 400), oob = scales::squish)+
ggplot(treemap_data, aes(area = total_listings, fill = avg_price,
label = neighbourhood,
subgroup = neighbourhood_group)) +
geom_treemap() +
scale_alpha_continuous(range = c(0.2, 1)) +
geom_treemap_subgroup_border() +
geom_treemap_subgroup_text(place = "centre", grow = T, alpha = 0.6, colour =
"black", fontface = "italic", min.size = 0) +
geom_treemap_text(colour = "white", place = "topleft", reflow = T) +
scale_fill_gradient2(low="white", mid="yellow", high="red", midpoint = 170,
limits = c(80, 400), oob = scales::squish)+
ggplot(treemap_data, aes(area = total_listings, fill = avg_price,
label = neighbourhood,
subgroup = neighbourhood_group)) +
geom_treemap() +
scale_alpha_continuous(range = c(0.2, 1)) +
geom_treemap_subgroup_border() +
geom_treemap_subgroup_text(place = "centre", grow = T, alpha = 0.6, colour =
"black", fontface = "italic", min.size = 0) +
geom_treemap_text(colour = "white", place = "topleft", reflow = T) +
scale_fill_gradient2(low="white", mid="yellow", high="red", midpoint = 170,
limits = c(80, 400), oob = scales::squish)
a
ggplot(treemap_data, aes(area = total_listings, fill = avg_price,
label = neighbourhood,
subgroup = neighbourhood_group)) +
geom_treemap() +
scale_alpha_continuous(range = c(0.2, 1)) +
geom_treemap_subgroup_border() +
geom_treemap_subgroup_text(place = "centre", grow = T, alpha = 0.6, colour =
"black", fontface = "italic", min.size = 0) +
geom_treemap_text(colour = "grey73", place = "topleft", reflow = T) +
scale_fill_gradient2(low="white", mid="yellow", high="red", midpoint = 170,
limits = c(80, 400), oob = scales::squish)
ggplot(treemap_data, aes(area = total_listings, fill = avg_price,
label = neighbourhood,
subgroup = neighbourhood_group)) +
geom_treemap() +
scale_alpha_continuous(range = c(0.2, 1)) +
geom_treemap_subgroup_border() +
geom_treemap_subgroup_text(place = "centre", grow = T, alpha = 0.6, colour =
"black", fontface = "italic", min.size = 0) +
geom_treemap_text(colour = "white", place = "topleft", reflow = T) +
scale_fill_gradient2(low="white", mid="yellow", high="red", midpoint = 170,
limits = c(80, 400), oob = scales::squish)
ggplot(treemap_data, aes(area = total_listings, fill = avg_price,
label = neighbourhood,
subgroup = neighbourhood_group)) +
geom_treemap() +
scale_alpha_continuous(range = c(0.2, 1)) +
geom_treemap_subgroup_border() +
geom_treemap_subgroup_text(place = "centre", grow = T, alpha = 0.6, colour =
"black", fontface = "italic", min.size = 0) +
geom_treemap_text(colour = "grey73", place = "topleft", reflow = T) +
scale_fill_gradient2(low="white", mid="yellow", high="red", midpoint = 170,
limits = c(80, 400), oob = scales::squish)
ggplot(treemap_data, aes(area = total_listings, fill = avg_price,
label = neighbourhood,
subgroup = neighbourhood_group)) +
geom_treemap() +
scale_alpha_continuous(range = c(0.2, 1)) +
geom_treemap_subgroup_border() +
geom_treemap_subgroup_text(place = "centre", grow = T, alpha = 0.6, colour =
"black", fontface = "italic", min.size = 0) +
geom_treemap_text(colour = "grey78", place = "topleft", reflow = T) +
scale_fill_gradient2(low="white", mid="yellow", high="red", midpoint = 170,
limits = c(80, 400), oob = scales::squish)
map  %>%
addHeatmap( #Adds a heatmap
lng =  airbnb_data$longitude,
lat =  airbnb_data$latitude,
intensity = airbnb_data$reviews_per_month,
blur = 1,
max = 4.64,
cellSize = 2,
radius = 2
)
ggplot(treemap_data, aes(area = total_listings, fill = avg_price,
label = neighbourhood,
subgroup = neighbourhood_group)) +
geom_treemap() +
scale_alpha_continuous(range = c(0.2, 1)) +
geom_treemap_subgroup_border() +
geom_treemap_subgroup_text(place = "centre", grow = T, alpha = 0.6, colour =
"black", fontface = "italic", min.size = 0) +
geom_treemap_text(colour = "grey78", place = "topleft", reflow = T) +
scale_fill_gradient2(low="white", mid="yellow", high="red", midpoint = 170,
limits = c(80, 400), oob = scales::squish)
ggplot(treemap_data, aes(area = total_listings, fill = avg_price,
label = neighbourhood,
subgroup = neighbourhood_group)) +
geom_treemap() +
scale_alpha_continuous(range = c(0.2, 1)) +
geom_treemap_subgroup_border() +
geom_treemap_subgroup_text(place = "centre", grow = T, alpha = 0.6, colour =
"black", fontface = "italic", min.size = 0) +
geom_treemap_text(colour = "grey78", place = "topleft", reflow = T) +
scale_fill_gradient2(low="white", mid="yellow", high="red", midpoint = 170,
limits = c(80, 400), oob = scales::squish) +
labs(fill = "Dose (mg)")
ggplot(treemap_data, aes(area = total_listings, fill = avg_price,
label = neighbourhood,
subgroup = neighbourhood_group)) +
geom_treemap() +
scale_alpha_continuous(range = c(0.2, 1)) +
geom_treemap_subgroup_border() +
geom_treemap_subgroup_text(place = "centre", grow = T, alpha = 0.6, colour =
"black", fontface = "italic", min.size = 0) +
geom_treemap_text(colour = "grey78", place = "topleft", reflow = T) +
scale_fill_gradient2(low="white", mid="yellow", high="red", midpoint = 170,
limits = c(80, 400), oob = scales::squish) +
labs(fill = "Average Price")
ggplot(treemap_data, aes(area = total_listings, fill = avg_price,
label = neighbourhood,
subgroup = neighbourhood_group)) +
geom_treemap() +
scale_alpha_continuous(range = c(0.2, 1)) +
geom_treemap_subgroup_border() +
geom_treemap_subgroup_text(place = "centre", grow = T, alpha = 0.6, colour =
"black", fontface = "italic", min.size = 0) +
geom_treemap_text(colour = "grey78", place = "topleft", reflow = T) +
scale_fill_gradient2(low="white", mid="yellow", high="red", midpoint = 170,
limits = c(80, 400), oob = scales::squish) +
labs(fill = "Avg Price")
ggplot(treemap_data, aes(area = total_listings, fill = avg_price,
label = neighbourhood,
subgroup = neighbourhood_group)) +
geom_treemap() +
scale_alpha_continuous(range = c(0.2, 1)) +
geom_treemap_subgroup_border() +
geom_treemap_subgroup_text(place = "centre", grow = T, alpha = 0.6, colour =
"black", fontface = "italic", min.size = 0) +
geom_treemap_text(colour = "grey78", place = "topleft", reflow = T) +
scale_fill_gradient2(low="white", mid="yellow", high="red", midpoint = 170,
limits = c(80, 400), oob = scales::squish) +
labs(fill = "Price per Night")
ggplot(treemap_data, aes(area = total_listings, fill = avg_price,
label = neighbourhood,
subgroup = neighbourhood_group)) +
geom_treemap() +
scale_alpha_continuous(range = c(0.2, 1)) +
geom_treemap_subgroup_border() +
geom_treemap_subgroup_text(place = "centre", grow = T, alpha = 0.6, colour =
"black", fontface = "italic", min.size = 0) +
geom_treemap_text(colour = "grey78", place = "topleft", reflow = T) +
scale_fill_gradient2(low="white", mid="yellow", high="red", midpoint = 170,
limits = c(80, 400), oob = scales::squish) +
labs(fill = "Price /n per Night")
ggplot(treemap_data, aes(area = total_listings, fill = avg_price,
label = neighbourhood,
subgroup = neighbourhood_group)) +
geom_treemap() +
scale_alpha_continuous(range = c(0.2, 1)) +
geom_treemap_subgroup_border() +
geom_treemap_subgroup_text(place = "centre", grow = T, alpha = 0.6, colour =
"black", fontface = "italic", min.size = 0) +
geom_treemap_text(colour = "grey78", place = "topleft", reflow = T) +
scale_fill_gradient2(low="white", mid="yellow", high="red", midpoint = 170,
limits = c(80, 400), oob = scales::squish) +
labs(fill = "Price" /n "per Night")
ggplot(treemap_data, aes(area = total_listings, fill = avg_price,
label = neighbourhood,
subgroup = neighbourhood_group)) +
geom_treemap() +
scale_alpha_continuous(range = c(0.2, 1)) +
geom_treemap_subgroup_border() +
geom_treemap_subgroup_text(place = "centre", grow = T, alpha = 0.6, colour =
"black", fontface = "italic", min.size = 0) +
geom_treemap_text(colour = "grey78", place = "topleft", reflow = T) +
scale_fill_gradient2(low="white", mid="yellow", high="red", midpoint = 170,
limits = c(80, 400), oob = scales::squish) +
labs(fill = "Price per Night")
ggplot(treemap_data, aes(area = total_listings, fill = avg_price,
label = neighbourhood,
subgroup = neighbourhood_group)) +
geom_treemap() +
scale_alpha_continuous(range = c(0.2, 1)) +
geom_treemap_subgroup_border() +
geom_treemap_subgroup_text(place = "centre", grow = T, alpha = 0.6, colour =
"black", fontface = "italic", min.size = 0) +
geom_treemap_text(colour = "grey81", place = "topleft", reflow = T) +
scale_fill_gradient2(low="white", mid="yellow", high="red", midpoint = 170,
limits = c(80, 400), oob = scales::squish) +
labs(fill = "Price per Night")
#Loading AirBnb NYC 2019 Data
setwd("C:/Users/Daniel/Dropbox/Data Science/NYC DSA/R/Exploratory Visualization and Shiny Project/AirBnB-NYC-2019-Visualization-Project")
airbnb_data = read.csv(file = './listings 2019.csv')
#Understanding the data
names(airbnb_data)
map = leaflet() %>% addProviderTiles(providers$CartoDB.Voyager)
map  %>%
addHeatmap( #Adds a heatmap
lng =  airbnb_data$longitude,
lat =  airbnb_data$latitude,
blur = 8,
intensity = NULL,
max = 50,
cellSize = 7,
radius = 5
)  %>%
addMarkers( #Adds markets in clusters. Have this as an option in Shiny
lng = airbnb_data$longitude,
lat = airbnb_data$latitude,
label = airbnb_data$host_id,
clusterOptions = markerClusterOptions()
)
quantile(airbnb_data$price, c(0.98))
map  %>%
addHeatmap( #Adds a heatmap
lng =  airbnb_data$longitude,
lat =  airbnb_data$latitude,
intensity = airbnb_data$price,
blur = 2,
max = 550,
cellSize = 3,
radius = 2
)
quantile(airbnb_data$price, c(0.98))
as.numeric(quantile(airbnb_data$price, c(0.98)))
map  %>%
addHeatmap( #Adds a heatmap
lng =  airbnb_data$longitude,
lat =  airbnb_data$latitude,
intensity = airbnb_data$price,
blur = 2,
max = as.numeric(quantile(airbnb_data$price, c(0.98))),
cellSize = 3,
radius = 2
)
quantile(airbnb_data$reviews_per_month, c(0.95), na.rm = T)
max = as.numeric(quantile(airbnb_data$reviews_per_month, c(0.95), na.rm = T))
map  %>%
addHeatmap( #Adds a heatmap
lng =  airbnb_data$longitude,
lat =  airbnb_data$latitude,
intensity = airbnb_data$reviews_per_month,
blur = 1,
max = max,
cellSize = 2,
radius = 2
)
map  %>%
addHeatmap( #Adds a heatmap
lng =  airbnb_data$longitude,
lat =  airbnb_data$latitude,
intensity = airbnb_data$reviews_per_month,
blur = 1,
max = 4.64,
cellSize = 2,
radius = 2
)
quant_review_max = as.numeric(quantile(airbnb_data$reviews_per_month, c(0.95), na.rm = T))
quant_98_review_max = as.numeric(quantile(airbnb_data$reviews_per_month, c(0.95), na.rm = T))
map  %>%
addHeatmap( #Adds a heatmap
lng =  airbnb_data$longitude,
lat =  airbnb_data$latitude,
intensity = airbnb_data$reviews_per_month,
blur = 1,
max = quant_98_review_max,
cellSize = 2,
radius = 2
)
quant_95_price_max = as.numeric(quantile(airbnb_data$price, c(0.98)))
quant_98_price_max = as.numeric(quantile(airbnb_data$price, c(0.98)))
map  %>%
addHeatmap( #Adds a heatmap
lng =  airbnb_data$longitude,
lat =  airbnb_data$latitude,
intensity = airbnb_data$price,
blur = 2,
max = quant_98_price_max,
cellSize = 3,
radius = 2
)
View(airbnb_data)
#Loading AirBnb 2015-2020 Data into a single dataframe and adding a column
#to identify which year the observation belongs to
setwd("C:/Users/Daniel/Dropbox/Data Science/NYC DSA/R/Exploratory Visualization and Shiny Project/AirBnB-NYC-2019-Visualization-Project")
airbnb_data = purrr::map_dfr(list.files(pattern="*.csv", full.names = TRUE),
~read.csv(.x) %>% mutate(file = sub(".csv$", "", basename(.x))))
View(airbnb_data)
View(airbnb_data)
View(airbnb_data)
airbnb_data = purrr::map_dfr(list.files(pattern="*.csv", full.names = TRUE),
airbnb_data = purrr::map_dfr(list.files(pattern="*.csv", full.names = TRUE),
airbnb_data = purrr::map_dfr(list.files(pattern="*.csv", full.names = TRUE),
~read.csv(.x) %>% mutate(year = sub(".csv$", "", basename(.x)),
year = sub("listings", "")))
airbnb_data = purrr::map_dfr(list.files(pattern="*.csv", full.names = TRUE),
~read.csv(.x) %>% mutate(year = sub(".csv$", "", basename(.x)),
year = gsub("listings", "")))
airbnb_data = purrr::map_dfr(list.files(pattern="*.csv", full.names = TRUE),
~read.csv(.x) %>% mutate(year = sub(".csv$", "", basename(.x)),
year = sub("listings", "", year)))
View(airbnb_data)
airbnb_data2015 = airbnb_data %>%
filter(year == '2015')
View(airbnb_data)
airbnb_data2015 = airbnb_data %>%
filter(year == 2015)
airbnb_data2015 = airbnb_data %>%
filter(year = 2015)
airbnb_data2015 = airbnb_data %>%
filter(year = '2015')
airbnb_data2015 = airbnb_data %>%
filter(year == '2015')
airbnb_data2015 = airbnb_data %>%
filter(year == '2015')
unique(airbnb_data$year)
airbnb_data = purrr::map_dfr(list.files(pattern="*.csv", full.names = TRUE),
~read.csv(.x) %>% mutate(year = sub(".csv$", "", basename(.x)),
year = sub("listings ", "", year)))
airbnb_data2015 = airbnb_data %>%
filter(year == '2015')
class(airbnb_data$year)
airbnb_data = purrr::map_dfr(list.files(pattern="*.csv", full.names = TRUE),
~read.csv(.x) %>% mutate(year = sub(".csv$", "", basename(.x)),
year = sub("listings ", "", year),
year = as.factor(year)))
airbnb_data2015 = airbnb_data %>%
filter(year == '2015')
class(airbnb_data2015$year)
airbnb_data2015 = airbnb_data %>%
filter(year == '2015')
airbnb_data2016 = airbnb_data %>%
filter(year == '2016')
airbnb_data2017 = airbnb_data %>%
filter(year == '2017')
airbnb_data2018 = airbnb_data %>%
filter(year == '2018')
airbnb_data2019 = airbnb_data %>%
filter(year == '2019')
airbnb_data2020 = airbnb_data %>%
filter(year == '2020')
treemap_data = airbnb_data %>%
filter(year == "2015")
View(treemap_data)
treemap_data = airbnb_data %>%
filter(year == "2020")
treemap_data = airbnb_data %>%
filter(year == "2020") %>%
group_by(neighbourhood, neighbourhood_group) %>%
summarize(total_listings = n(), avg_price = mean(price))
View(treemap_data)
ggplot(treemap_data, aes(area = total_listings, fill = avg_price,
label = neighbourhood,
subgroup = neighbourhood_group)) +
geom_treemap() +
scale_alpha_continuous(range = c(0.2, 1)) +
geom_treemap_subgroup_border() +
geom_treemap_subgroup_text(place = "centre", grow = T, alpha = 0.6, colour =
"black", fontface = "italic", min.size = 0) +
geom_treemap_text(colour = "grey81", place = "topleft", reflow = T) +
scale_fill_gradient2(low="white", mid="yellow", high="red", midpoint = 170,
limits = c(80, 400), oob = scales::squish) +
labs(fill = "Price per Night")
View(airbnb_data2015)
